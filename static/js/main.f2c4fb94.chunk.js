(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,o){},14:function(t,e,o){},15:function(t,e,o){"use strict";o.r(e);var a=o(0),n=o.n(a),r=o(3),s=o.n(r);o(13);var i=t=>{let{post:e}=t;const o="reel"===e.type;return n.a.createElement("div",{className:"post-card",style:{aspectRatio:o?"9/16":"1/1",position:"relative",backgroundColor:"#f1f1f1",overflow:"hidden",width:"100%"}},e.imageUrl?n.a.createElement("img",{src:e.imageUrl,alt:"\u041f\u043e\u0441\u0442 ".concat(e.title),style:{width:"100%",height:"100%",objectFit:"cover"}}):n.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#f1f1f1"}}))};const l="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";var c=new class{constructor(){this.databaseId="16f937ca10d4809591f2d320ddf01689",this.baseUrl="/v1",this.headers={Authorization:"Bearer ".concat(l),"Content-Type":"application/json","Notion-Version":"2022-06-28"}}async testConnection(){try{console.log("\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u0435\u043c \u0442\u0435\u0441\u0442\u043e\u0432\u044b\u0439 \u0437\u0430\u043f\u0440\u043e\u0441...");const e=await fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers});if(!e.ok){const t=await e.text();throw console.error("\u0414\u0435\u0442\u0430\u043b\u0438 \u043e\u0448\u0438\u0431\u043a\u0438:",{status:e.status,statusText:e.statusText,body:t}),new Error("HTTP error! status: ".concat(e.status))}const o=await e.json();return console.log("\u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u043a API \u0443\u0441\u043f\u0435\u0448\u043d\u043e:",o),o}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a API:",t.message),t}}formatPageData(t){var e,o,a,n,r,s,i,l,c,d,u,h;return console.log("\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:",t),{id:t.id,title:(null===(e=t.properties.Title)||void 0===e?void 0:null===(o=e.title)||void 0===o?void 0:null===(a=o[0])||void 0===a?void 0:null===(n=a.text)||void 0===n?void 0:n.content)||"",imageUrl:(null===(r=t.properties.Image)||void 0===r?void 0:null===(s=r.files)||void 0===s?void 0:null===(i=s[0])||void 0===i?void 0:null===(l=i.file)||void 0===l?void 0:l.url)||"",type:(null===(c=t.properties.Type)||void 0===c?void 0:null===(d=c.select)||void 0===d?void 0:d.name)||"",postedDate:(null===(u=t.properties["Posted Date"])||void 0===u?void 0:null===(h=u.date)||void 0===h?void 0:h.start)||""}}async getInstagramContent(){try{const e=await fetch("".concat(this.baseUrl,"/databases/").concat(this.databaseId,"/query"),{method:"POST",headers:this.headers});if(!e.ok)throw new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e.status));const o=(await e.json()).results.map(t=>this.formatPageData(t));return console.log("\u041e\u0442\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",o),o}catch(t){throw console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",t),t}}};o(14);var d=function(){const[t,e]=Object(a.useState)([]),[o,r]=Object(a.useState)(!0);return Object(a.useEffect)(()=>{(async()=>{try{const o=await c.getInstagramContent();e(o)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:",t)}finally{r(!1)}})()},[]),o?n.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):n.a.createElement("div",{style:{backgroundColor:"white"}},n.a.createElement("div",{className:"posts-grid"},t.map(t=>n.a.createElement(i,{key:t.id,post:t}))))};var u=t=>{t&&t instanceof Function&&o.e(3).then(o.bind(null,16)).then(e=>{let{getCLS:o,getFID:a,getFCP:n,getLCP:r,getTTFB:s}=e;o(t),a(t),n(t),r(t),s(t)})};s.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(d,null))),u()},4:function(t,e,o){t.exports=o(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.f2c4fb94.chunk.js.map