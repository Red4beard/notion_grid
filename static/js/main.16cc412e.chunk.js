(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,o){},14:function(t,e,o){},15:function(t,e,o){"use strict";o.r(e);var n=o(0),a=o.n(n),s=o(3),i=o.n(s);o(13);var r=t=>{let{post:e}=t;const o="reel"===e.type;return a.a.createElement("div",{className:"post-card",style:{aspectRatio:o?"9/16":"1/1",position:"relative",backgroundColor:"#f1f1f1",overflow:"hidden",width:"100%"}},e.imageUrl?a.a.createElement("img",{src:e.imageUrl,alt:"\u041f\u043e\u0441\u0442 ".concat(e.title),style:{width:"100%",height:"100%",objectFit:"cover"}}):a.a.createElement("div",{style:{width:"100%",height:"100%",backgroundColor:"#f1f1f1"}}))};const l="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";var c=new class{constructor(){this.baseUrl="https://api.notion.com/v1",this.databaseId=Object({NODE_ENV:"production",PUBLIC_URL:"/notion_grid",REACT_APP_NOTION_API_KEY:"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",REACT_APP_DATABASE_ID:"16f937ca10d4809591f2d320ddf01689"}).REACT_APP_NOTION_DATABASE_ID||"16f937ca10d4809591f2d320ddf01689",this.headers={Authorization:"Bearer ".concat(l),"Content-Type":"application/json","Notion-Version":"2022-06-28","Access-Control-Allow-Origin":"*"}}async testConnection(){try{console.log("\ud83d\udd0d \u041d\u0430\u0447\u0438\u043d\u0430\u0435\u043c \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0443 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f \u043a API...");const e=await fetch("".concat(this.baseUrl,"/users/me"),{method:"GET",headers:this.headers});if(!e.ok){const t=await e.text();throw console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u044f:",{status:e.status,statusText:e.statusText,details:t}),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 HTTP: ".concat(e.status))}const o=await e.json();return console.log("\u2705 \u041f\u043e\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u0438\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e:",o),o}catch(t){throw console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 API:",t.message),t}}formatPageData(t){var e,o,n,a,s,i,r,l,c,d,u,v,h,g,f,p;return console.log("\ud83d\udcc4 \u041e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b:",t.id),{id:t.id,title:(null===(e=t.properties.Title)||void 0===e?void 0:null===(o=e.title)||void 0===o?void 0:null===(n=o[0])||void 0===n?void 0:null===(a=n.text)||void 0===a?void 0:a.content)||"\u0411\u0435\u0437 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",imageUrl:(null===(s=t.properties.Image)||void 0===s?void 0:null===(i=s.files)||void 0===i?void 0:null===(r=i[0])||void 0===r?void 0:null===(l=r.file)||void 0===l?void 0:l.url)||(null===(c=t.properties.Image)||void 0===c?void 0:null===(d=c.files)||void 0===d?void 0:null===(u=d[0])||void 0===u?void 0:null===(v=u.external)||void 0===v?void 0:v.url)||"",type:(null===(h=t.properties.Type)||void 0===h?void 0:null===(g=h.select)||void 0===g?void 0:g.name)||"post",postedDate:(null===(f=t.properties["Posted Date"])||void 0===f?void 0:null===(p=f.date)||void 0===p?void 0:p.start)||""}}async getInstagramContent(){try{console.log("\ud83d\udce5 \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0438\u0437 \u0431\u0430\u0437\u044b...");const e=await fetch("".concat(this.baseUrl,"/databases/").concat(this.databaseId,"/query"),{method:"POST",headers:this.headers,body:JSON.stringify({})});if(!e.ok){const t=await e.text();throw console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445:",{status:e.status,text:t}),new Error("\u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445: ".concat(e.status))}const o=await e.json();console.log("\u2705 \u041f\u043e\u043b\u0443\u0447\u0435\u043d\u044b \u0441\u044b\u0440\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",o);const n=o.results.map(t=>this.formatPageData(t));return console.log("\u2728 \u041e\u0442\u0444\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435:",n),n}catch(t){throw console.error("\u274c \u041e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0434\u0430\u043d\u043d\u044b\u0445:",t),t}}};o(14);var d=function(){const[t,e]=Object(n.useState)([]),[o,s]=Object(n.useState)(!0);return Object(n.useEffect)(()=>{(async()=>{try{const o=await c.getInstagramContent();e(o)}catch(t){console.error("\u041e\u0448\u0438\u0431\u043a\u0430 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438:",t)}finally{s(!1)}})()},[]),Object(n.useEffect)(()=>{console.log("Current posts:",t)},[t]),o?a.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh"}},"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."):a.a.createElement("div",{style:{backgroundColor:"white"}},a.a.createElement("div",{className:"posts-grid"},t.map(t=>a.a.createElement(r,{key:t.id,post:t}))))};var u=t=>{t&&t instanceof Function&&o.e(3).then(o.bind(null,16)).then(e=>{let{getCLS:o,getFID:n,getFCP:a,getLCP:s,getTTFB:i}=e;o(t),n(t),a(t),s(t),i(t)})};i.a.createRoot(document.getElementById("root")).render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(d,null))),u()},4:function(t,e,o){t.exports=o(15)}},[[4,1,2]]]);
//# sourceMappingURL=main.16cc412e.chunk.js.map